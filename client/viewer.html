<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AuraFace äººè‡‰è­˜åˆ¥æª¢è¦–å™¨</title>
</head>
<body>
    <div id="auraface-container"></div>

    <script src="sdk/auraface-viewer.js"></script>
    <script>
        // ç¬¬ä¸‰æ–¹ä½¿ç”¨ç¯„ä¾‹
        const viewer = new AuraFaceViewer({
            container: '#auraface-container',
            wsUrl: 'ws://localhost:7861',
            autoConnect: true,
            showStats: true,
            frameRate: 5,
            
            // å›èª¿å‡½æ•¸
            onConnected: function(event) {
                console.log('âœ… å·²é€£æ¥åˆ° AuraFace ä¼ºæœå™¨');
            },
            
            onDisconnected: function(event) {
                console.log('âŒ èˆ‡ AuraFace ä¼ºæœå™¨æ–·ç·š:', event.code);
            },
            
            onFaceDetected: function(data) {
                console.log('ğŸ‘¤ æª¢æ¸¬åˆ°äººè‡‰:', data.faces.length);
                
                // è‡ªå®šç¾©è™•ç†é‚è¼¯
                data.faces.forEach(face => {
                    if (face.person_id !== 'unknown') {
                        console.log(`è­˜åˆ¥åˆ°: ${face.name} (${face.role}), ä¿¡å¿ƒåº¦: ${face.confidence}`);
                    } else {
                        console.log('ç™¼ç¾æœªçŸ¥äººå“¡');
                    }
                });
            },
            
            onError: function(error) {
                console.error('âŒ AuraFace éŒ¯èª¤:', error);
            }
        });

        // ç¤ºç¯„å¦‚ä½•ä½¿ç”¨ API
        document.addEventListener('keydown', function(event) {
            switch(event.key) {
                case 'c':
                    // æ‰‹å‹•é€£æ¥
                    viewer.connect();
                    break;
                case 'd':
                    // æ‰‹å‹•æ–·ç·š
                    viewer.disconnect();
                    break;
                case 's':
                    // ç²å–é€£æ¥ç‹€æ…‹
                    console.log('é€£æ¥ç‹€æ…‹:', viewer.getConnectionStatus());
                    break;
                case 'f':
                    // ç²å–ç•¶å‰äººè‡‰
                    console.log('ç•¶å‰äººè‡‰:', viewer.getCurrentFaces());
                    break;
            }
        });

        // é¡¯ç¤ºä½¿ç”¨èªªæ˜
        console.log(`
ğŸ”§ AuraFace Viewer ä½¿ç”¨èªªæ˜ï¼š
- æŒ‰ C éµï¼šæ‰‹å‹•é€£æ¥
- æŒ‰ D éµï¼šæ‰‹å‹•æ–·ç·š  
- æŒ‰ S éµï¼šæª¢æŸ¥é€£æ¥ç‹€æ…‹
- æŒ‰ F éµï¼šç²å–ç•¶å‰äººè‡‰è³‡æ–™
        `);
    </script>
</body>
</html>